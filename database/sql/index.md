---
sidebar_position: 5
slug: /sql
---

# SQL

**SQL (Structured Query Language)** — это язык для управления и манипуляции данными в реляционных базах данных. Он используется для создания, изменения, управления и извлечения данных из баз данных. SQL является стандартом для работы с реляционными базами данных, такими как MySQL, PostgreSQL, Oracle, Microsoft SQL Server, SQLite и другие. 

## Основные возможности SQL

1. **Манипуляция данными**:
   - **Вставка данных** (`INSERT`): добавление новых записей в таблицы.
   - **Извлечение данных** (`SELECT`): выборка данных из одной или нескольких таблиц.
   - **Обновление данных** (`UPDATE`): изменение существующих записей.
   - **Удаление данных** (`DELETE`): удаление записей.

2. **Управление структурами базы данных**:
   - **Создание таблиц** (`CREATE TABLE`): создание новой таблицы с указанием её структуры.
   - **Изменение таблиц** (`ALTER TABLE`): добавление, удаление или изменение столбцов.
   - **Удаление таблиц** (`DROP TABLE`): удаление всей таблицы.
   - **Создание представлений** (`CREATE VIEW`): создание виртуальных таблиц на основе запросов.

3. **Управление правами доступа**:
   - **GRANT**: предоставление прав на выполнение операций.
   - **REVOKE**: отзыв ранее выданных прав.

4. **Транзакции**:
   - **BEGIN** или **START TRANSACTION**: начало транзакции.
   - **COMMIT**: сохранение изменений в базе данных.
   - **ROLLBACK**: отмена изменений в рамках текущей транзакции.

5. **Работа с индексацией**:
   - **CREATE INDEX**: создание индекса для ускорения запросов.
   - **DROP INDEX**: удаление индекса.

## Основные компоненты SQL

### Команды DDL (Data Definition Language)

Они определяют структуру базы данных.  
Примеры:

- `CREATE`: создание базы данных, таблиц или других объектов.
- `ALTER`: изменение структуры объектов.
- `DROP`: удаление объектов.

### Команды DML (Data Manipulation Language)

Они управляют данными в таблицах.  
Примеры:

- `SELECT`: выборка данных.
- `INSERT`: добавление данных.
- `UPDATE`: обновление данных.
- `DELETE`: удаление данных.

### Команды DCL (Data Control Language)

Они управляют правами доступа.  
Примеры:

- `GRANT`: предоставление прав.
- `REVOKE`: отзыв прав.

### Команды TCL (Transaction Control Language)

Они управляют транзакциями.  
Примеры:

- `COMMIT`: сохранение изменений.
- `ROLLBACK`: откат изменений.
- `SAVEPOINT`: создание точки восстановления.

## Примеры SQL-запросов

### Создание таблицы

```sql
CREATE TABLE employees (
    id INT PRIMARY KEY,
    name VARCHAR(100),
    position VARCHAR(50),
    salary DECIMAL(10, 2)
);
```

### Вставка данных

```sql
INSERT INTO employees (id, name, position, salary)
VALUES (1, 'John Doe', 'Developer', 75000.00);
```

### Выборка данных

```sql
SELECT name, position
FROM employees
WHERE salary > 50000;
```

### Обновление данных

```sql
UPDATE employees
SET salary = salary * 1.10
WHERE position = 'Developer';
```

### Удаление данных

```sql
DELETE FROM employees
WHERE id = 1;
```

### Создание индекса

```sql
CREATE INDEX idx_position ON employees(position);
```

## Ключевые аспекты SQL

1. **Реляционные базы данных**: данные организованы в виде таблиц (строки и столбцы).
2. **Ключи**: первичные (PRIMARY KEY) и внешние ключи (FOREIGN KEY) обеспечивают целостность данных.
3. **Индексы**: ускоряют выполнение запросов.
4. **Функции агрегирования**: такие как `COUNT`, `SUM`, `AVG`, `MAX`, `MIN`.
5. **Подзапросы**: вложенные запросы внутри других запросов.
6. **Соединения (JOIN)**:
   - `INNER JOIN`: соединяет записи, общие для двух таблиц.
   - `LEFT JOIN`: возвращает все записи из левой таблицы и совпадающие из правой.
   - `RIGHT JOIN`: возвращает все записи из правой таблицы и совпадающие из левой.
   - `FULL JOIN`: объединяет все записи из обеих таблиц.
